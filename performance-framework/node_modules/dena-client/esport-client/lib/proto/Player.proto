package protocol;
import "Common.proto";
import "PlayerBasic.proto";
import "Card.proto";
import "Item.proto";
import "Gamble.proto";
import "Instance.proto";
import "Shop.proto";
import "Arena.proto";
import "Snake.proto";
import "Glory.proto";
import "Club.proto";
import "Task.proto";
import "Battle.proto";
import "Mail.proto";
import "Chat.proto";
import "Bussiness.proto";
import "HeroPool.proto";
import "Recruit.proto";
import "StarGame.proto";
import "Talent.proto";
import "Strategy.proto";
import "BestTeam.proto";
import "Guess.proto";
import "League.proto";
import "ExchangeCenter.proto";
import "Skill.proto";
import "Event.proto";

message BagInfo {
	repeated Item items = 1;
	optional uint32 capacity = 2;
}

message GuideInfo
{
	optional string param1 = 2;
	optional string param2 = 3;
}

message GiftCodeData
{
	optional string prefix = 1;
	optional uint32 time = 2;
	optional string code = 3;
}

message GiftInfo
{
	repeated GiftCodeData codes = 1;
}

message PlayerInfo {
	optional uint64 uid = 1;                    // 玩家唯一ID
	optional string account = 2;                // 账号
	optional GiftInfo gift_info = 7;            // 礼包激活码
	optional GuideInfo guide_info = 8;          // 引导信息
	optional BasicInfo basic_info = 9;          // 俱乐部基本信息
	optional BagInfo bag_info = 10;             // 背包信息
	optional CardInfo card_info = 11;           // 选手信息
	optional GambleInfo gamble_info = 12;       // 抽卡信息
	optional InstanceInfo instance_info = 13;   // pve信息
	optional ShopInfo shop_info = 14;			// 商店信息
	// repeated Resource resources = 15;           // 各种资源
	optional ArenaInfo arena_info = 16;         // 擂台赛信息
	optional SnakeInfo snake_info = 17;         // 蛇道巡回赛信息
	optional GloryInfo glory_info = 18;         // 光辉时刻
	optional BattleInfo battle_info = 19;       // 玩家正在进行的战斗的类型（服务器用）
	optional ClubInfo club_info = 20;           // 俱乐部经营信息
	// repeated AutoEnhanceRes auto_info = 21;		// 自动资源累加信息
	optional MailInfo mail_info = 22;			// 邮件信息
	optional TaskInfo task_info = 23;           // 任务/成就信息
	optional ChatInfo chat_info = 24;			// 聊天信息
	optional BussinessInfo buss_info = 25;		// 经营中心
	optional HeroPoolInfo hero_info = 26;		// 英雄池
	optional ResourceInfo resource_info = 27;   // 资源信息
	optional RecruitInfo recruit_info = 28;     // 明星招募系统
	optional StarGameInfo star_game_info = 29;  // 明星试练
	optional TalentInfo talent_info = 30;       // 天赋（战术）
	optional StrategyInfo strategy_info = 31;   // 战略
	optional BestTeamInfo best_team_info = 32;  // 最强战队
	optional BetInfo bet_info = 33;				// 竞猜
	optional LeagueInfo league_info = 34;       // 大师联赛
	optional ExchangeCenterInfo ex_center_info = 35;//转会中心
	optional RotateDishInfo rotate_info = 36;   // 转盘
	optional SkillInfo skill_info = 37;         // 技能信息
	optional EventInfo event_info = 38;         // 赞助商/俱乐部事件
	optional CardShowInfo card_show = 39;		// 卡片图鉴
}

// 登录请求
message C2S_LoginRequest {
	required uint64 player_id = 1;
	required string account = 2;
	optional string channel = 3;
}

// 登录请求
message C2S_XLLoginRequest {
	optional C2S_LoginRequest request = 1;
}

// 登陆结果
message S2C_LoginResponse {
	required uint32 result = 1; // 0表示成功,其他值表示失败
	optional PlayerInfo player_info = 2;
}

// 玩家基本数据发生变化,客户端只更新basic_info存在的字段
message S2C_UpdateBasicInfo {
	optional BasicInfo basic_info = 1;
}

//保存引导信息
message C2S_SaveGuideInfoRequest
{
	optional GuideInfo guide_info = 1;
}
//保存引导信息返回
message S2C_SaveGuideInfoResponse
{
	optional int32 res = 1;
	repeated IntPair reward_items = 2; //道具奖励
}

message S2C_UpdateGuideInfoMsg
{
	optional GuideInfo guide_info = 1;
}

message C2S_GetBagInfoRequest{
}

message S2C_GetBagInfoResponse{
	optional BagInfo bag_info = 1;
}

// 获取玩家资源信息
message C2S_GetResoucesRequest {
}

// 获取玩家资源信息的回复
message S2C_GetResoucesResponse {
	repeated Resource resources = 1;
	repeated AutoEnhanceRes auto_info = 2;      // 自动资源累加信息
}

// 更新玩家资源信息的通知
message S2C_UpdateResources {
	repeated Resource resources = 1;
	optional GainReasonType reason = 2;
	repeated AutoEnhanceRes auto_info = 3;      // 自动资源累加信息
}

// 获取玩家自动获取资源信息
message C2S_GetAutoEnhanceResRequest {
}

// 获取玩家自动获取资源信息回复
message S2C_GetAutoEnhanceResResponse {
	repeated AutoEnhanceRes auto_info = 1;
}

