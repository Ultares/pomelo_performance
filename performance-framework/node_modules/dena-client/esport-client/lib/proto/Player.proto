package protocol;
import "PlayerBasic.proto";
import "Card.proto";
import "Item.proto";
import "Gamble.proto";
import "Instance.proto";
import "Shop.proto";
import "Arena.proto";
import "Snake.proto";
import "Glory.proto";
import "Club.proto";
import "Task.proto";
import "Battle.proto";
import "Mail.proto";
import "Chat.proto";
import "Bussiness.proto";
import "HeroPool.proto";
import "Recruit.proto";
import "StarGame.proto";
import "Talent.proto";
import "Strategy.proto";
import "BestTeam.proto";

message BagInfo {
	repeated Item items = 1;
	optional uint32 capacity = 2;
}

message PlayerInfo {
	optional uint64 uid = 1;                    // 玩家唯一ID
	optional string account = 2;                // 账号
	optional BasicInfo basic_info = 9;          // 俱乐部基本信息
	optional BagInfo bag_info = 10;             // 背包信息
	optional CardInfo card_info = 11;           // 选手信息
	optional GambleInfo gamble_info = 12;       // 抽卡信息
	optional InstanceInfo instance_info = 13;   // pve信息
	optional ShopInfo shop_info = 14;			// 商店信息
	// repeated Resource resources = 15;           // 各种资源
	optional ArenaInfo arena_info = 16;         // 擂台赛信息
	optional SnakeInfo snake_info = 17;         // 蛇道巡回赛信息
	optional GloryInfo glory_info = 18;         // 光辉时刻
	optional BattleInfo battle_info = 19;       // 玩家正在进行的战斗的类型（服务器用）
	optional ClubInfo club_info = 20;           // 俱乐部经营信息
	// repeated AutoEnhanceRes auto_info = 21;		// 自动资源累加信息
	optional MailInfo mail_info = 22;			// 邮件信息
	optional TaskInfo task_info = 23;           // 任务/成就信息
	optional ChatInfo chat_info = 24;			// 聊天信息
	optional BussinessInfo buss_info = 25;		// 经营中心
	optional HeroPoolInfo hero_info = 26;		// 英雄池
	optional ResourceInfo resource_info = 27;   // 资源信息
	optional RecruitInfo recruit_info = 28;     // 明星招募系统
	optional StarGameInfo star_game_info = 29;  // 明星试练
	optional TalentInfo talent_info = 30;       // 天赋（战术）
	optional StrategyInfo strategy_info = 31;   // 战略
	optional BestTeamInfo best_team_info = 32;  // 最强战队
}

// 登录请求
message C2S_LoginRequest {
	required uint64 player_id = 1;
	required string account = 2;
}

// 登陆结果
message S2C_LoginResponse {
	required uint32 result = 1; // 0表示成功,其他值表示失败
	optional PlayerInfo player_info = 2;
}

// 玩家基本数据发生变化,客户端只更新basic_info存在的字段
message S2C_UpdateBasicInfo {
	optional BasicInfo basic_info = 1;
}

message C2S_GetBagInfoRequest{
}

message S2C_GetBagInfoResponse{
	optional BagInfo bag_info = 1;
}

// 获取玩家资源信息
message C2S_GetResoucesRequest {
}

// 获取玩家资源信息的回复
message S2C_GetResoucesResponse {
	repeated Resource resources = 1;
}

// 更新玩家资源信息的通知
message S2C_UpdateResources {
	repeated Resource resources = 1;
}

// 获取玩家自动获取资源信息
message C2S_GetAutoEnhanceResRequest {
}

// 获取玩家自动获取资源信息回复
message S2C_GetAutoEnhanceResResponse {
	repeated AutoEnhanceRes auto_info = 1;
}

