package	protocol;
import "Common.proto";
import "Team.proto";

enum ECRotateType
{
	ECRotateType_One = 1;
	ECRotateType_Five = 2;
}

message RotateData
{
	optional uint32 dail_id = 1;//转盘的ID
	optional uint32 rotate_times = 2;//今日转的次数
	optional uint32 next_flush_times = 3;//下次刷新时间
	optional uint32 popularity = 4;//转盘声望
	optional int32 free_num = 5;//免费次数
	optional int32 last_free_num = 6;//上次免费次数刷新时间
}

message RotateDishInfo
{
	repeated RotateData rotate = 1;//所有转盘信息
}

message ExchangeCenterInfo
{
	optional uint32 today_card = 1;//今日转会中心大量需求的选手
	optional float ex_rate = 2;//卖出选手额外增加的奖励x(ex_rate)
	optional uint32 next_flush_times = 3;//下次刷新时间
	optional ECardPosition positon = 4;
	optional int32 team_id = 5;
	optional int32 quality = 6;
	optional int32 id = 7;
}

//获取转会中心信息
message C2S_GetExchangeCenterRequest
{
}
//获取转会中心信息返回
message S2C_UpdateExchangeCenterMsg
{
	optional ExchangeCenterInfo ex_center_info = 1;
	optional int32 res = 2;
}
//获取转盘信息
message C2S_GetRotateInfoRequest
{
}
//获取转盘信息返回
message S2C_UpdateRotateInfoMsg
{
	optional RotateDishInfo rotate = 1;//转盘更新信息
	optional int32 res = 2;
}
//卖出队员
message C2S_SellPlayerToCenterRequest
{
	repeated uint64 card_uid = 1;
}
//卖出队员返回
message S2C_SellPlayerToCenterResponse
{
	optional int32 res = 1;
}
//转盘
message C2S_RotateDishRequest
{
	optional ECRotateType type = 1;
	optional uint32 dial_id = 2;
}
//转盘返回
message S2C_RotateDishResponse
{
	optional int32 res = 1;
	repeated IntPair reward_items = 2; //道具奖励
}