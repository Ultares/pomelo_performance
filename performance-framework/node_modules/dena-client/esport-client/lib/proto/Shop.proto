package protocol;

message ShopItem
{
	optional int32 id = 1;				//配置表商店栏唯一ID
	optional int32 item_posi = 2;		//商品栏位
	optional int32 item_id = 3;			//商品ID
	optional int32 item_count = 4;		//商品数量  
	optional int32 money_type = 5;		//商品买卖货币
	optional int32 sale_count = 6;		//商品售卖价格
	optional uint32 next_flush_times = 7;//商品下次刷新时间 FFFFFFF为无限
	optional int32 restriction = 8;		//商品限购次数
}

message Shop
{
	optional int32 shop_type = 1;		//商店类型
	repeated ShopItem shop_items = 2;	//商品详情
}

message ShopInfo
{
	repeated Shop shops = 1;			//商店
}

message C2S_GetShopInfoRequest
{
	optional int32 type = 1;			//0:获取所有商店信息,x:获取x商店信息
	optional uint32 test_time = 2;		//测试用，客户端无需关注
}

message S2C_GetShopInfoResponse
{
	optional int32 res = 1;				//0:成功，x获取商店信息错误
	optional ShopInfo shop_info = 2;
}

message C2S_BuyShopItemRequest
{
	optional int32 posi = 1;			//商品栏位
	optional int32 count = 2;			//购买数量
	optional int32 shop_type =3;		//商店类型
	optional uint32 test_time = 4;
}

message S2C_BuyShopItemResponse
{
	required int32 res = 1;				//0成功，x购买商店商品错误
	optional Shop shop = 2;				//当前商店信息
}