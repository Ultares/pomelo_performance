package protocol;
import "PlayerBasic.proto";

message AccountData
{
	optional string platform_id = 1;
	optional string global_server_id = 2;
	optional uint64 player_id = 3;
	optional BasicInfo basic_info = 4;
}

message AntiAddictionInfo
{
	optional uint32 today_anti_times = 1;//当天防沉迷累计时间
	optional uint32 today_anti_delay = 2;//当天防沉迷惩罚倒计时
	optional uint32 next_anti_day_flush = 3;//防沉迷刷新时间
	optional uint32 last_calc_times = 4;//上一次计算时间
	optional int32 is_adult = 5;
}

message AccountInfo 
{
	optional string account_id = 1;
	optional string platform_session = 2;
	optional uint32 session_valid_times = 3;
	repeated AccountData account_datas = 4;
	optional AntiAddictionInfo anti_addiction_info = 5;//用户防尘迷系统
}

message C2S_AccountVerifyRequest
{
	required string account = 1;
	optional string platform_id = 2;
	optional string global_server_id = 3;
	optional string platform_session = 4;
	optional string game_id = 5;
	optional int32 svnversion = 6;
}

message S2C_AccountVerifyResponse
{
	optional int32 res = 1;
	optional AccountInfo account_info = 2;
	optional int32 svr_svnversion = 3;
}

message S2C_AntiAddictionMsg
{
	optional uint32 today_anti_times = 1;//当天已经累计时间
	optional uint32 today_anti_delay = 2;//当天防沉迷惩罚倒计时
}

message C2S_ReconnectRequest
{
	required int32 current_recv_sn = 3;
}

message S2C_ReconnectResponse
{
	required int32 res = 1;
	optional int32 current_recv_sn = 2;
}

message C2S_MessageRecved
{
	required int32 current_recv_sn = 1;
}

message S2C_MessageRecved
{
	required int32 current_recv_sn = 1;
}

message C2S_SetAdultRequest
{
	repeated int32 is_adult = 1;
	repeated string account = 2;
	repeated int32 level = 3;
	repeated int32 star = 4;
	repeated int32 card_id = 5;
	repeated int32 card_num = 6;
	repeated int32 card_star = 7;
}