package protocol;
import "Item.proto";
import "Error.proto";

enum ClubEventType {
  CLUB_EVENT_TYPE_INVALID = 0;
  CLUB_EVENT_TYPE_TRAINING = 1;             // 训练赛类型
}

message ClubEvent {
  optional ClubEventType type = 5;          // 事件类型
  repeated uint32 event_id = 1;             // 可选的路线ID
  optional uint32 timestamp = 2;            // 出现时间
  optional bool finished = 3;               // True表示这个事件已经完成
  optional uint32 score = 4;
  optional uint32 chosen_id = 6;            // 选择的路线ID
}

message ClubInfo {
  repeated ClubEvent club_events = 1;       // 每天每种类型的事件最多只会出现一次
}

message C2S_GetClubInfoRequest {
}
message S2C_GetClubInfoResponse {
  optional ClubInfo club_info = 1;
}

message C2S_ClubEventRequest {
  optional uint32 timestamp = 3;            // 选择哪个事件
  optional uint32 event_id = 1;             // 选择路线
  repeated uint32 options = 2;              // 依次放第1、2、3…个阶段的选项
}
message S2C_ClubEventResponse {
  optional ErrorCode error_code = 1;
  repeated uint32 buff_ids = 3;
  repeated Item items = 4;                  // 只设置item_id,count字段
  optional ClubEvent event = 5;             // 更新的事件数据
}

