package protocol;
import "Team.proto";
import "Error.proto";

message TalentData {
  optional uint32 talent_id = 1;
  optional uint32 level = 2;
}

message TalentPositionData {
  optional ECardPosition card_position = 1;
  optional uint32 number = 2;                                       // 该位置已升级的次数
  optional uint32 talent_points = 3;                                // 该位置已投入的战术点数量
}

message TacticGroupData {
  optional uint32 slot = 1;                                         // 槽位，1~5
  optional uint32 tactic_group_id = 4;                              // 放置在该位置的战术组ID（等于0时表示没有放）
}

message TalentInfo {
  repeated TalentData talent_data = 1;                              // 每个天赋的数据
  repeated TalentPositionData talent_position_data = 2;             // 每种位置上的天赋的总升级次数（服务器用）
  optional uint32 reset_count_ = 3;                                 // 已重置次数
  repeated TacticGroupData tactic_group_data = 4;                   // 战术组（应援团/圣物）数据
}


// 获取天赋数据
message C2S_GetTalentInfoRequest {
}
// 获取天赋数据的返回
message S2C_GetTalentInfoResponse {
  optional TalentInfo talent_info = 1;
}

// 升级天赋
message C2S_TalentUpgradeRequest {
  optional uint32 talent_id = 1;
}
// 升级天赋的返回
message S2C_TalentUpgradeResponse {
  optional ErrorCode error_code = 1;
  optional TalentData talent_data = 2;
  repeated TalentPositionData talent_position_data = 3;
}

// 重置天赋
message C2S_TalentResetRequest {
  optional ECardPosition card_position = 1;                         // 填0表示重置所有类型的天赋
}
// 重置天赋的返回
message S2C_TalentResetResponse {
  optional ErrorCode error_code = 1;
}

// 放置战术组（圣物）
message C2S_SetTacticGroupRequest {
  // optional ECardPosition card_position = 1;                      // 放置到哪个槽位可以通过配置找到
  optional uint64 item_uid = 2;                                     // 战术组（圣物）的物品UID
}
// 放置战术组（圣物）的返回
message S2C_SetTacticGroupResponse {
  optional ErrorCode error_code = 1;
  repeated TacticGroupData tactic_group_data = 2;
}

